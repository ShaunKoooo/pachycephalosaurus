/**
 * Country calling codes data
 * FROM: https://github.com/jackocnr/intl-tel-input/blob/master/src/js/data.js
 *
 * Structure: [Country name, iso2 code, International dial code, Order, Area codes]
 */

export interface CountryCode {
  name: string;
  nameZh: string;
  code: string;
  iso: string;
}

const allCountries = [
  ['Afghanistan', 'af', '93'],
  ['Albania', 'al', '355'],
  ['Algeria', 'dz', '213'],
  ['American Samoa', 'as', '1', 5, ['684']],
  ['Andorra', 'ad', '376'],
  ['Angola', 'ao', '244'],
  ['Anguilla', 'ai', '1', 6, ['264']],
  ['Antigua and Barbuda', 'ag', '1', 7, ['268']],
  ['Argentina', 'ar', '54'],
  ['Armenia', 'am', '374'],
  ['Aruba', 'aw', '297'],
  ['Australia', 'au', '61', 0],
  ['Austria', 'at', '43'],
  ['Azerbaijan', 'az', '994'],
  ['Bahamas', 'bs', '1', 8, ['242']],
  ['Bahrain', 'bh', '973'],
  ['Bangladesh', 'bd', '880'],
  ['Barbados', 'bb', '1', 9, ['246']],
  ['Belarus', 'by', '375'],
  ['Belgium', 'be', '32'],
  ['Belize', 'bz', '501'],
  ['Benin', 'bj', '229'],
  ['Bermuda', 'bm', '1', 10, ['441']],
  ['Bhutan', 'bt', '975'],
  ['Bolivia', 'bo', '591'],
  ['Bosnia and Herzegovina', 'ba', '387'],
  ['Botswana', 'bw', '267'],
  ['Brazil', 'br', '55'],
  ['British Indian Ocean Territory', 'io', '246'],
  ['British Virgin Islands', 'vg', '1', 11, ['284']],
  ['Brunei', 'bn', '673'],
  ['Bulgaria', 'bg', '359'],
  ['Burkina Faso', 'bf', '226'],
  ['Burundi', 'bi', '257'],
  ['Cambodia', 'kh', '855'],
  ['Cameroon', 'cm', '237'],
  ['Canada', 'ca', '1', 1, ['204', '226', '236', '249', '250', '289', '306', '343', '365', '387', '403', '416', '418', '431', '437', '438', '450', '506', '514', '519', '548', '579', '581', '587', '604', '613', '639', '647', '672', '705', '709', '742', '778', '780', '782', '807', '819', '825', '867', '873', '902', '905']],
  ['Cape Verde', 'cv', '238'],
  ['Caribbean Netherlands', 'bq', '599', 1, ['3', '4', '7']],
  ['Cayman Islands', 'ky', '1', 12, ['345']],
  ['Central African Republic', 'cf', '236'],
  ['Chad', 'td', '235'],
  ['Chile', 'cl', '56'],
  ['China', 'cn', '86'],
  ['Christmas Island', 'cx', '61', 2, ['89164']],
  ['Cocos', 'cc', '61', 1, ['89162']],
  ['Colombia', 'co', '57'],
  ['Comoros', 'km', '269'],
  ['Congo', 'cd', '243'],
  ['Congo', 'cg', '242'],
  ['Cook Islands', 'ck', '682'],
  ['Costa Rica', 'cr', '506'],
  ['Côte d\'Ivoire', 'ci', '225'],
  ['Croatia', 'hr', '385'],
  ['Cuba', 'cu', '53'],
  ['Curaçao', 'cw', '599', 0],
  ['Cyprus', 'cy', '357'],
  ['Czech Republic', 'cz', '420'],
  ['Denmark', 'dk', '45'],
  ['Djibouti', 'dj', '253'],
  ['Dominica', 'dm', '1', 13, ['767']],
  ['Dominican Republic', 'do', '1', 2, ['809', '829', '849']],
  ['Ecuador', 'ec', '593'],
  ['Egypt', 'eg', '20'],
  ['El Salvador', 'sv', '503'],
  ['Equatorial Guinea', 'gq', '240'],
  ['Eritrea', 'er', '291'],
  ['Estonia', 'ee', '372'],
  ['Eswatini', 'sz', '268'],
  ['Ethiopia', 'et', '251'],
  ['Falkland Islands', 'fk', '500'],
  ['Faroe Islands', 'fo', '298'],
  ['Fiji', 'fj', '679'],
  ['Finland', 'fi', '358', 0],
  ['France', 'fr', '33'],
  ['French Guiana', 'gf', '594'],
  ['French Polynesia', 'pf', '689'],
  ['Gabon', 'ga', '241'],
  ['Gambia', 'gm', '220'],
  ['Georgia', 'ge', '995'],
  ['Germany', 'de', '49'],
  ['Ghana', 'gh', '233'],
  ['Gibraltar', 'gi', '350'],
  ['Greece', 'gr', '30'],
  ['Greenland', 'gl', '299'],
  ['Grenada', 'gd', '1', 14, ['473']],
  ['Guadeloupe', 'gp', '590', 0],
  ['Guam', 'gu', '1', 15, ['671']],
  ['Guatemala', 'gt', '502'],
  ['Guernsey', 'gg', '44', 1, ['1481', '7781', '7839', '7911']],
  ['Guinea', 'gn', '224'],
  ['Guinea-Bissau', 'gw', '245'],
  ['Guyana', 'gy', '592'],
  ['Haiti', 'ht', '509'],
  ['Honduras', 'hn', '504'],
  ['Hong Kong', 'hk', '852'],
  ['Hungary', 'hu', '36'],
  ['Iceland', 'is', '354'],
  ['India', 'in', '91'],
  ['Indonesia', 'id', '62'],
  ['Iran', 'ir', '98'],
  ['Iraq', 'iq', '964'],
  ['Ireland', 'ie', '353'],
  ['Isle of Man', 'im', '44', 2, ['1624', '74576', '7524', '7924', '7624']],
  ['Israel', 'il', '972'],
  ['Italy', 'it', '39', 0],
  ['Jamaica', 'jm', '1', 4, ['876', '658']],
  ['Japan', 'jp', '81'],
  ['Jersey', 'je', '44', 3, ['1534', '7509', '7700', '7797', '7829', '7937']],
  ['Jordan', 'jo', '962'],
  ['Kazakhstan', 'kz', '7', 1, ['33', '7']],
  ['Kenya', 'ke', '254'],
  ['Kiribati', 'ki', '686'],
  ['Kosovo', 'xk', '383'],
  ['Kuwait', 'kw', '965'],
  ['Kyrgyzstan', 'kg', '996'],
  ['Laos', 'la', '856'],
  ['Latvia', 'lv', '371'],
  ['Lebanon', 'lb', '961'],
  ['Lesotho', 'ls', '266'],
  ['Liberia', 'lr', '231'],
  ['Libya', 'ly', '218'],
  ['Liechtenstein', 'li', '423'],
  ['Lithuania', 'lt', '370'],
  ['Luxembourg', 'lu', '352'],
  ['Macau', 'mo', '853'],
  ['North Macedonia', 'mk', '389'],
  ['Madagascar', 'mg', '261'],
  ['Malawi', 'mw', '265'],
  ['Malaysia', 'my', '60'],
  ['Maldives', 'mv', '960'],
  ['Mali', 'ml', '223'],
  ['Malta', 'mt', '356'],
  ['Marshall Islands', 'mh', '692'],
  ['Martinique', 'mq', '596'],
  ['Mauritania', 'mr', '222'],
  ['Mauritius', 'mu', '230'],
  ['Mayotte', 'yt', '262', 1, ['269', '639']],
  ['Mexico', 'mx', '52'],
  ['Micronesia', 'fm', '691'],
  ['Moldova', 'md', '373'],
  ['Monaco', 'mc', '377'],
  ['Mongolia', 'mn', '976'],
  ['Montenegro', 'me', '382'],
  ['Montserrat', 'ms', '1', 16, ['664']],
  ['Morocco', 'ma', '212', 0],
  ['Mozambique', 'mz', '258'],
  ['Myanmar', 'mm', '95'],
  ['Namibia', 'na', '264'],
  ['Nauru', 'nr', '674'],
  ['Nepal', 'np', '977'],
  ['Netherlands', 'nl', '31'],
  ['New Caledonia', 'nc', '687'],
  ['New Zealand', 'nz', '64'],
  ['Nicaragua', 'ni', '505'],
  ['Niger', 'ne', '227'],
  ['Nigeria', 'ng', '234'],
  ['Niue', 'nu', '683'],
  ['Norfolk Island', 'nf', '672'],
  ['North Korea', 'kp', '850'],
  ['Northern Mariana Islands', 'mp', '1', 17, ['670']],
  ['Norway', 'no', '47', 0],
  ['Oman', 'om', '968'],
  ['Pakistan', 'pk', '92'],
  ['Palau', 'pw', '680'],
  ['Palestine', 'ps', '970'],
  ['Panama', 'pa', '507'],
  ['Papua New Guinea', 'pg', '675'],
  ['Paraguay', 'py', '595'],
  ['Peru', 'pe', '51'],
  ['Philippines', 'ph', '63'],
  ['Poland', 'pl', '48'],
  ['Portugal', 'pt', '351'],
  ['Puerto Rico', 'pr', '1', 3, ['787', '939']],
  ['Qatar', 'qa', '974'],
  ['Réunion', 're', '262', 0],
  ['Romania', 'ro', '40'],
  ['Russia', 'ru', '7', 0],
  ['Rwanda', 'rw', '250'],
  ['Saint Barthélemy', 'bl', '590', 1],
  ['Saint Helena', 'sh', '290'],
  ['Saint Kitts and Nevis', 'kn', '1', 18, ['869']],
  ['Saint Lucia', 'lc', '1', 19, ['758']],
  ['Saint Martin', 'mf', '590', 2],
  ['Saint Pierre and Miquelon', 'pm', '508'],
  ['Saint Vincent and the Grenadines', 'vc', '1', 20, ['784']],
  ['Samoa', 'ws', '685'],
  ['San Marino', 'sm', '378'],
  ['São Tomé and Príncipe', 'st', '239'],
  ['Saudi Arabia', 'sa', '966'],
  ['Senegal', 'sn', '221'],
  ['Serbia', 'rs', '381'],
  ['Seychelles', 'sc', '248'],
  ['Sierra Leone', 'sl', '232'],
  ['Singapore', 'sg', '65'],
  ['Sint Maarten', 'sx', '1', 21, ['721']],
  ['Slovakia', 'sk', '421'],
  ['Slovenia', 'si', '386'],
  ['Solomon Islands', 'sb', '677'],
  ['Somalia', 'so', '252'],
  ['South Africa', 'za', '27'],
  ['South Korea', 'kr', '82'],
  ['South Sudan', 'ss', '211'],
  ['Spain', 'es', '34'],
  ['Sri Lanka', 'lk', '94'],
  ['Sudan', 'sd', '249'],
  ['Suriname', 'sr', '597'],
  ['Svalbard and Jan Mayen', 'sj', '47', 1, ['79']],
  ['Sweden', 'se', '46'],
  ['Switzerland', 'ch', '41'],
  ['Syria', 'sy', '963'],
  ['Taiwan', 'tw', '886'],
  ['Tajikistan', 'tj', '992'],
  ['Tanzania', 'tz', '255'],
  ['Thailand', 'th', '66'],
  ['Timor-Leste', 'tl', '670'],
  ['Togo', 'tg', '228'],
  ['Tokelau', 'tk', '690'],
  ['Tonga', 'to', '676'],
  ['Trinidad and Tobago', 'tt', '1', 22, ['868']],
  ['Tunisia', 'tn', '216'],
  ['Turkey', 'tr', '90'],
  ['Turkmenistan', 'tm', '993'],
  ['Turks and Caicos Islands', 'tc', '1', 23, ['649']],
  ['Tuvalu', 'tv', '688'],
  ['U.S. Virgin Islands', 'vi', '1', 24, ['340']],
  ['Uganda', 'ug', '256'],
  ['Ukraine', 'ua', '380'],
  ['United Arab Emirates', 'ae', '971'],
  ['United Kingdom', 'gb', '44', 0],
  ['United States', 'us', '1', 0],
  ['Uruguay', 'uy', '598'],
  ['Uzbekistan', 'uz', '998'],
  ['Vanuatu', 'vu', '678'],
  ['Vatican City', 'va', '39', 1, ['06698']],
  ['Venezuela', 've', '58'],
  ['Vietnam', 'vn', '84'],
  ['Wallis and Futuna', 'wf', '681'],
  ['Western Sahara', 'eh', '212', 1, ['5288', '5289']],
  ['Yemen', 'ye', '967'],
  ['Zambia', 'zm', '260'],
  ['Zimbabwe', 'zw', '263'],
  ['Åland Islands', 'ax', '358', 1, ['18']],
];

// 繁體中文翻譯
const zh_TW_names: Record<string, string> = {
  AF: '阿富汗',
  AL: '阿爾巴尼亞',
  DZ: '阿爾及利亞',
  AS: '美屬薩摩亞',
  AD: '安道爾',
  AO: '安哥拉',
  AI: '安圭拉',
  AG: '安地卡及巴布達',
  AR: '阿根廷',
  AM: '亞美尼亞',
  AW: '阿魯巴',
  AU: '澳洲',
  AT: '奧地利',
  AZ: '亞塞拜然',
  BS: '巴哈馬',
  BH: '巴林',
  BD: '孟加拉',
  BB: '巴貝多',
  BY: '白俄羅斯',
  BE: '比利時',
  BZ: '貝里斯',
  BJ: '貝南',
  BM: '百慕達',
  BT: '不丹',
  BO: '玻利維亞',
  BA: '波士尼亞與赫塞哥維納',
  BW: '波札那',
  BR: '巴西',
  IO: '英屬印度洋領地',
  VG: '英屬維京群島',
  BN: '汶萊',
  BG: '保加利亞',
  BF: '布吉納法索',
  BI: '蒲隆地',
  KH: '柬埔寨',
  CM: '喀麥隆',
  CA: '加拿大',
  CV: '維德角',
  BQ: '荷蘭加勒比區',
  KY: '開曼群島',
  CF: '中非共和國',
  TD: '查德',
  CL: '智利',
  CN: '中國',
  CX: '聖誕島',
  CC: '科科斯群島',
  CO: '哥倫比亞',
  KM: '葛摩',
  CD: '剛果民主共和國',
  CG: '剛果共和國',
  CK: '庫克群島',
  CR: '哥斯大黎加',
  CI: '象牙海岸',
  HR: '克羅埃西亞',
  CU: '古巴',
  CW: '古拉索',
  CY: '賽普勒斯',
  CZ: '捷克',
  DK: '丹麥',
  DJ: '吉布地',
  DM: '多米尼克',
  DO: '多明尼加',
  EC: '厄瓜多',
  EG: '埃及',
  SV: '薩爾瓦多',
  GQ: '赤道幾內亞',
  ER: '厄利垂亞',
  EE: '愛沙尼亞',
  SZ: '史瓦帝尼',
  ET: '衣索比亞',
  FK: '福克蘭群島',
  FO: '法羅群島',
  FJ: '斐濟',
  FI: '芬蘭',
  FR: '法國',
  GF: '法屬圭亞那',
  PF: '法屬玻里尼西亞',
  GA: '加彭',
  GM: '甘比亞',
  GE: '喬治亞',
  DE: '德國',
  GH: '迦納',
  GI: '直布羅陀',
  GR: '希臘',
  GL: '格陵蘭',
  GD: '格瑞那達',
  GP: '瓜德羅普',
  GU: '關島',
  GT: '瓜地馬拉',
  GG: '根西島',
  GN: '幾內亞',
  GW: '幾內亞比索',
  GY: '蓋亞那',
  HT: '海地',
  HN: '宏都拉斯',
  HK: '香港',
  HU: '匈牙利',
  IS: '冰島',
  IN: '印度',
  ID: '印尼',
  IR: '伊朗',
  IQ: '伊拉克',
  IE: '愛爾蘭',
  IM: '曼島',
  IL: '以色列',
  IT: '義大利',
  JM: '牙買加',
  JP: '日本',
  JE: '澤西島',
  JO: '約旦',
  KZ: '哈薩克',
  KE: '肯亞',
  KI: '吉里巴斯',
  XK: '科索沃',
  KW: '科威特',
  KG: '吉爾吉斯',
  LA: '寮國',
  LV: '拉脫維亞',
  LB: '黎巴嫩',
  LS: '賴索托',
  LR: '賴比瑞亞',
  LY: '利比亞',
  LI: '列支敦斯登',
  LT: '立陶宛',
  LU: '盧森堡',
  MO: '澳門',
  MK: '北馬其頓',
  MG: '馬達加斯加',
  MW: '馬拉威',
  MY: '馬來西亞',
  MV: '馬爾地夫',
  ML: '馬利',
  MT: '馬爾他',
  MH: '馬紹爾群島',
  MQ: '馬丁尼克',
  MR: '茅利塔尼亞',
  MU: '模里西斯',
  YT: '馬約特',
  MX: '墨西哥',
  FM: '密克羅尼西亞',
  MD: '摩爾多瓦',
  MC: '摩納哥',
  MN: '蒙古',
  ME: '蒙特內哥羅',
  MS: '蒙哲臘',
  MA: '摩洛哥',
  MZ: '莫三比克',
  MM: '緬甸',
  NA: '納米比亞',
  NR: '諾魯',
  NP: '尼泊爾',
  NL: '荷蘭',
  NC: '新喀里多尼亞',
  NZ: '紐西蘭',
  NI: '尼加拉瓜',
  NE: '尼日',
  NG: '奈及利亞',
  NU: '紐埃',
  NF: '諾福克島',
  KP: '北韓',
  MP: '北馬里亞納群島',
  NO: '挪威',
  OM: '阿曼',
  PK: '巴基斯坦',
  PW: '帛琉',
  PS: '巴勒斯坦',
  PA: '巴拿馬',
  PG: '巴布亞紐幾內亞',
  PY: '巴拉圭',
  PE: '秘魯',
  PH: '菲律賓',
  PL: '波蘭',
  PT: '葡萄牙',
  PR: '波多黎各',
  QA: '卡達',
  RE: '留尼旺',
  RO: '羅馬尼亞',
  RU: '俄羅斯',
  RW: '盧安達',
  BL: '聖巴瑟米',
  SH: '聖赫勒拿',
  KN: '聖克里斯多福及尼維斯',
  LC: '聖露西亞',
  MF: '法屬聖馬丁',
  PM: '聖皮埃與密克隆群島',
  VC: '聖文森及格瑞那丁',
  WS: '薩摩亞',
  SM: '聖馬利諾',
  ST: '聖多美普林西比',
  SA: '沙烏地阿拉伯',
  SN: '塞內加爾',
  RS: '塞爾維亞',
  SC: '塞席爾',
  SL: '獅子山',
  SG: '新加坡',
  SX: '荷屬聖馬丁',
  SK: '斯洛伐克',
  SI: '斯洛維尼亞',
  SB: '索羅門群島',
  SO: '索馬利亞',
  ZA: '南非',
  KR: '南韓',
  SS: '南蘇丹',
  ES: '西班牙',
  LK: '斯里蘭卡',
  SD: '蘇丹',
  SR: '蘇利南',
  SJ: '斯瓦巴及尚馬延',
  SE: '瑞典',
  CH: '瑞士',
  SY: '敘利亞',
  TW: '台灣',
  TJ: '塔吉克',
  TZ: '坦尚尼亞',
  TH: '泰國',
  TL: '東帝汶',
  TG: '多哥',
  TK: '托克勞',
  TO: '東加',
  TT: '千里達及托巴哥',
  TN: '突尼西亞',
  TR: '土耳其',
  TM: '土庫曼',
  TC: '土克凱可群島',
  TV: '吐瓦魯',
  VI: '美屬維京群島',
  UG: '烏干達',
  UA: '烏克蘭',
  AE: '阿拉伯聯合大公國',
  GB: '英國',
  US: '美國',
  UY: '烏拉圭',
  UZ: '烏茲別克',
  VU: '萬那杜',
  VA: '梵蒂岡',
  VE: '委內瑞拉',
  VN: '越南',
  WF: '瓦利斯和富圖納',
  EH: '西撒哈拉',
  YE: '葉門',
  ZM: '尚比亞',
  ZW: '辛巴威',
  AX: '奧蘭群島',
};

// 轉換為標準格式
export const COUNTRY_CODES: CountryCode[] = allCountries.map((c) => ({
  name: c[0],
  nameZh: zh_TW_names[c[1].toUpperCase()] || c[0],
  code: `+${c[2]}`,
  iso: c[1],
}));

// 取得預設國碼 (台灣)
export const DEFAULT_COUNTRY = COUNTRY_CODES.find(c => c.iso === 'tw') || COUNTRY_CODES[0];

// 熱門國家 ISO 列表
export const HOT_COUNTRY_ISOS = ['tw', 'cn', 'hk', 'us', 'jp', 'sg', 'my', 'th', 'vn', 'kr'];

// 取得熱門國家列表
export const getHotCountries = (): CountryCode[] => {
  return HOT_COUNTRY_ISOS.map(iso =>
    COUNTRY_CODES.find(c => c.iso === iso)
  ).filter(Boolean) as CountryCode[];
};

// 根據關鍵字搜尋國家
export const searchCountries = (keyword: string): CountryCode[] => {
  if (!keyword) return [];

  const lowerKeyword = keyword.toLowerCase();
  return COUNTRY_CODES.filter(country =>
    country.name.toLowerCase().includes(lowerKeyword) ||
    country.nameZh.includes(keyword) ||
    country.code.includes(keyword) ||
    country.iso.toLowerCase().includes(lowerKeyword)
  );
};

// 按首字母分組
export const groupByAlphabet = (): Record<string, CountryCode[]> => {
  const grouped: Record<string, CountryCode[]> = {};

  COUNTRY_CODES.forEach(country => {
    const firstLetter = country.name[0].toUpperCase();
    if (!grouped[firstLetter]) {
      grouped[firstLetter] = [];
    }
    grouped[firstLetter].push(country);
  });

  return grouped;
};
